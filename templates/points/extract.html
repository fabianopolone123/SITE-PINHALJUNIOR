{% extends "base.html" %}
{% block title %}Extrato de pontos{% endblock %}
{% block menu %}
    <a href="{% url 'dashboard' %}">ğŸ  InÃ­cio</a>
    <a href="{% url 'points-index' %}">â­ Pontos</a>
    <a href="{% url 'points-add-individual' %}">â• LanÃ§ar individual</a>
    <a href="{% url 'points-add-batch' %}">ğŸ§‘â€ğŸ¤â€ğŸ§‘ LanÃ§ar em lote</a>
    <a href="{% url 'logout' %}">Sair</a>
{% endblock %}
{% block content %}
<div class="card">
    <div class="chip">Extrato de pontos</div>
    <form method="get" style="max-width:420px; display:grid; gap:10px;">
        {{ form.as_p }}
        <button type="submit" style="padding:10px 12px; border:none; border-radius:10px; background:#22c55e; color:#fff; font-weight:800;">Ver extrato</button>
    </form>
    {% if child %}
    <div style="margin-top:14px;">
        <strong>{{ child.name }}</strong> â€” Total: {{ total }} pts
        <div style="display:grid; gap:10px; margin-top:8px;">
            {% for row in ledger %}
            <div style="padding:10px; border:1px solid #e2e8f0; border-radius:10px; background:#f8fafc;">
                {{ row.created_at|date:"d/m/Y H:i" }} â€” {{ row.points }} pts<br>
                Motivo: {{ row.reason }}
            </div>
            {% empty %}
            <p>Nenhum lanÃ§amento para este aventureiro.</p>
            {% endfor %}
        </div>
    </div>
    {% endif %}
</div>
{% endblock %}
